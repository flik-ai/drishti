# Drishti

<img width="1318" height="741" alt="image" src="https://github.com/user-attachments/assets/c1225b5d-1f3e-4239-a1d6-14ffd5307027" />

A sample response is as follows
Storing event in memory with key: event_2025-07-27T04:13:33.187916+00:00Z

Event Response: Event Analysis: {
  "crowd_density_increase": true,
  "restricted_movements": true,
  "fire_smoke_detected": false,
  "unit_to_dispatch": "Police station unit",
  "recommendations": "Immediately dispatch police units for crowd control. Implement measures to manage crowd flow, such as opening additional exits and entry points, and providing clear instructions to the crowd. Prioritize clearing people from the train tracks to prevent accidents. Coordinate with station authorities to regulate train schedules and platform access. Medical units should be on standby due to the high risk of stampede and crush injuries. Consider using barriers or personnel to create separate lanes for entry and exit.",
  "summary": "Analysis of recent events at the New Delhi Railway Station indicates a consistently critical security situation. Extremely high crowd densities and severely restricted movements are observed across multiple platforms and concourses. The situation is exacerbated by people standing on or near the train tracks. The presence of people on the tracks poses an extreme safety hazard. The historical context indicates a risk of stampede. Immediate intervention is necessary to prevent further escalation and potential casualties. Medical units should be on standby due to the high risk of stampede and crush injuries."
}

=== Security Chat - Report ===
Published message ID: 15709701762281924 to projects/drishti-ea59b/topics/dispatcher
Chat Response: I have dispatched a police unit to Zone A, Platform 3 with high priority. I will provide updates as they become available.


=== Security Chat - Query ===
Event from an agent: dispatch_agent, event id: c9b33631-ce85-4005-ad7c-b218de7f6eca
Event from an agent: dispatch_agent, event id: e9f54957-c1d7-4696-bf63-7360a1ab966c
Event from an agent: dispatch_agent, event id: f29f6589-e815-4359-a4b1-f91556ee81c5
Event from an agent: dispatch_agent, event id: 362d32eb-4c9f-4870-83b1-90f6aac362d3
Event from an agent: dispatch_agent, event id: 40309bd9-5c04-4110-8a4c-ea3dafd03ae8
Warning: there are non-text parts in the response: ['function_call'], returning concatenated text result from text parts. Check the full candidates.content.parts accessor to get the full model response.
Query Response: I do not have the ability to check the current status of Platform 2 directly. I can check recent events in that location if you'd like? Or I can transfer you to another agent.


=== Dispatch Request ===

Published message ID: 15711343233003742 to projects/drishti-ea59b/topics/dispatcher
Dispatch Response: I have successfully dispatched a medical unit to Platform 3, Zone A with high priority. I will provide updates as they become available.
